<div>
    <mat-card class="mat-elevation-z4" style="width:1200px; margin-left:15%; margin-top:2%; margin-right: 2%; position: center">
        <mat-toolbar color="primary">Complaints</mat-toolbar>
        <mat-table class="lessons-table mat-elevation-z8" [dataSource]="complaints">
          <ng-container matColumnDef="id">
            <mat-header-cell *matHeaderCellDef>Id</mat-header-cell>
            <mat-cell class="description-cell"
                      *matCellDef="let res">{{res.id}}</mat-cell>
      
          </ng-container>
      
      
          <ng-container matColumnDef="description">
            <mat-header-cell *matHeaderCellDef>Description</mat-header-cell>
            <mat-cell class="duration-cell"
                      *matCellDef="let res">{{res.description}}</mat-cell>
          </ng-container>
      
          <!-- <ng-container matColumnDef="email">
            <mat-header-cell *matHeaderCellDef>Email</mat-header-cell>
            <mat-cell class="duration-cell"
                      *matCellDef="let res">{{res.email}}</mat-cell>
          </ng-container>
      
          <ng-container matColumnDef="phoneNumber">
            <mat-header-cell *matHeaderCellDef>Phone Number</mat-header-cell>
            <mat-cell class="duration-cell"
                      *matCellDef="let res">{{res.phoneNumber}}</mat-cell>
          </ng-container> -->
      
          <ng-container matColumnDef="response">
            <mat-header-cell *matHeaderCellDef>Response</mat-header-cell>
            <mat-cell class="duration-cell"
                      *matCellDef="let res"><button class="button is-danger is-rounded" (click)="showForm=1; complaint = res">Send response</button></mat-cell>
          </ng-container>
      
          <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      
          <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
      </mat-table>
    </mat-card>
</div>

<div class="modal is-active" *ngIf="showForm === 1">
  <div class="modal-background"></div>
  <div class="modal-card">
    <header class="modal-card-head">
      <p class="modal-card-title">Send response</p>
      <button class="delete" (click)="showForm=0" aria-label="close"></button>
    </header>
    <section class="modal-card-body">
      <form [formGroup]="sendResponseForm" (ngSubmit)="sendResponse(complaint); showForm=0;">
        <mat-form-field>
          <textarea matInput formControlName="response" type="text" placeholder="Response..." style="height: 100px;width: 200px;"  required></textarea>
        </mat-form-field>
        <br>
        <button mat-raised-button type="submit">Send On Email</button>
      </form>
    </section>
  </div>
</div>
